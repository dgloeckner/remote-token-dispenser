<svg viewBox="0 0 1120 900" width="1120" height="900" xmlns="http://www.w3.org/2000/svg" font-family="Inter, system-ui, -apple-system, sans-serif">
  <defs>
    <filter id="shadow" x="-4%" y="-4%" width="108%" height="112%">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-color="#000" flood-opacity="0.25"/>
    </filter>
    <marker id="arr-grn" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto">
      <path d="M0,0.3 L6,2.5 L0,4.7" fill="none" stroke="#22c55e" stroke-width="1"/>
    </marker>
    <marker id="arr-blu-l" markerWidth="7" markerHeight="5" refX="0" refY="2.5" orient="auto">
      <path d="M7,0.3 L1,2.5 L7,4.7" fill="none" stroke="#3b82f6" stroke-width="1"/>
    </marker>
    <marker id="arr-amb-l" markerWidth="7" markerHeight="5" refX="0" refY="2.5" orient="auto">
      <path d="M7,0.3 L1,2.5 L7,4.7" fill="none" stroke="#f59e0b" stroke-width="1"/>
    </marker>
    <marker id="arr-org-l" markerWidth="7" markerHeight="5" refX="0" refY="2.5" orient="auto">
      <path d="M7,0.3 L1,2.5 L7,4.7" fill="none" stroke="#f97316" stroke-width="1"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1120" height="900" rx="12" fill="#0f172a"/>
  <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
    <path d="M20,0 L0,0 0,20" fill="none" stroke="#1e293b" stroke-width="0.4"/>
  </pattern>
  <rect width="1120" height="900" fill="url(#grid)" opacity="0.5" rx="12"/>

  <!-- Title -->
  <text x="560" y="32" text-anchor="middle" font-size="17" font-weight="800" fill="#f1f5f9" letter-spacing="-0.3">Azkoyen Hopper U-II ↔ Wemos D1 Mini — Full Wiring</text>
  <text x="560" y="50" text-anchor="middle" font-size="11" fill="#64748b">BC547 open-collector driver · Voltage dividers 12V→3.3V · 2×5 Molex connector pinout from sticker</text>


  <!-- ╔══════════════════════════════════════════╗ -->
  <!-- ║           ESP8266 BOX (left)              ║ -->
  <!-- ╚══════════════════════════════════════════╝ -->
  <g filter="url(#shadow)">
    <rect x="40" y="100" width="200" height="380" rx="10" fill="#1e293b" stroke="#334155" stroke-width="1.5"/>
    <rect x="40" y="100" width="200" height="36" rx="10" fill="#1e3a5f"/>
    <rect x="40" y="126" width="200" height="10" fill="#1e3a5f"/>
    <text x="140" y="122" text-anchor="middle" font-size="13" font-weight="700" fill="#38bdf8">Wemos D1 Mini</text>
    <text x="140" y="134" text-anchor="middle" font-size="9" fill="#7dd3fc">ESP8266 · 3.3V Logic</text>
    <rect x="115" y="94" width="50" height="10" rx="3" fill="#334155" stroke="#475569" stroke-width="0.8"/>
    <text x="140" y="102" text-anchor="middle" font-size="6.5" fill="#64748b" font-family="monospace">USB</text>
  </g>

  <!-- ESP right-side pins -->
  <circle cx="240" cy="185" r="5" fill="#22c55e"/>
  <text x="226" y="181" text-anchor="end" font-size="11" font-weight="600" fill="#22c55e" font-family="monospace">D1</text>
  <text x="226" y="193" text-anchor="end" font-size="8" fill="#94a3b8">GPIO5 · OUT</text>

  <circle cx="240" cy="265" r="5" fill="#3b82f6"/>
  <text x="226" y="261" text-anchor="end" font-size="11" font-weight="600" fill="#3b82f6" font-family="monospace">D2</text>
  <text x="226" y="273" text-anchor="end" font-size="8" fill="#94a3b8">GPIO4 · IN</text>

  <circle cx="240" cy="345" r="5" fill="#f59e0b"/>
  <text x="226" y="341" text-anchor="end" font-size="11" font-weight="600" fill="#f59e0b" font-family="monospace">D5</text>
  <text x="226" y="353" text-anchor="end" font-size="8" fill="#94a3b8">GPIO14 · IN</text>

  <circle cx="240" cy="425" r="5" fill="#f97316"/>
  <text x="226" y="421" text-anchor="end" font-size="11" font-weight="600" fill="#f97316" font-family="monospace">D6</text>
  <text x="226" y="433" text-anchor="end" font-size="8" fill="#94a3b8">GPIO12 · IN</text>

  <!-- ESP left-side pins -->
  <circle cx="40" cy="185" r="5" fill="#ef4444"/>
  <text x="54" y="181" font-size="10" font-weight="600" fill="#ef4444" font-family="monospace">5V</text>
  <text x="54" y="193" font-size="8" fill="#94a3b8">USB power</text>
  <circle cx="40" cy="265" r="5" fill="#64748b"/>
  <text x="54" y="261" font-size="10" font-weight="600" fill="#94a3b8" font-family="monospace">GND</text>


  <!-- ╔══════════════════════════════════════════╗ -->
  <!-- ║      AZKOYEN 2×5 MOLEX CONNECTOR (right)  ║ -->
  <!-- ╚══════════════════════════════════════════╝ -->
  <g filter="url(#shadow)">
    <rect x="850" y="140" width="240" height="310" rx="10" fill="#1e293b" stroke="#334155" stroke-width="1.5"/>
    <rect x="850" y="140" width="240" height="36" rx="10" fill="#4a1d1d"/>
    <rect x="850" y="166" width="240" height="10" fill="#4a1d1d"/>
    <text x="970" y="162" text-anchor="middle" font-size="12" font-weight="700" fill="#fca5a5">Azkoyen Hopper U-II</text>
    <text x="970" y="174" text-anchor="middle" font-size="9" fill="#fecaca">12-24V ⎓ 450mA</text>
  </g>

  <!-- Connector housing outline -->
  <rect x="872" y="200" width="196" height="100" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1.5"/>
  <text x="970" y="218" text-anchor="middle" font-size="9" font-weight="600" fill="#475569">2×5 Molex Connector</text>

  <!-- Top row pins (y=248): VCC, GND, H Level, Error, Empty -->
  <!-- Pin A1: VCC -->
  <circle cx="892" cy="248" r="6" fill="#ef4444" stroke="#fca5a5" stroke-width="1"/>
  <text x="892" y="238" text-anchor="middle" font-size="7" font-weight="600" fill="#fca5a5">VCC</text>
  <!-- Pin A2: GND -->
  <circle cx="930" cy="248" r="6" fill="#64748b" stroke="#94a3b8" stroke-width="1"/>
  <text x="930" y="238" text-anchor="middle" font-size="7" font-weight="600" fill="#94a3b8">GND</text>
  <!-- Pin A3: H Level (not connected) -->
  <circle cx="968" cy="248" r="6" fill="#334155" stroke="#475569" stroke-width="1"/>
  <text x="968" y="238" text-anchor="middle" font-size="7" fill="#475569">H Lvl</text>
  <!-- Pin A4: Error -->
  <circle cx="1006" cy="248" r="6" fill="#f59e0b" stroke="#fbbf24" stroke-width="1"/>
  <text x="1006" y="238" text-anchor="middle" font-size="7" font-weight="600" fill="#fbbf24">Error</text>
  <!-- Pin A5: Empty -->
  <circle cx="1044" cy="248" r="6" fill="#f97316" stroke="#fb923c" stroke-width="1"/>
  <text x="1044" y="238" text-anchor="middle" font-size="7" font-weight="600" fill="#fb923c">Empty</text>

  <!-- Bottom row pins (y=280): VCC, VCC, GND, Control, Coin -->
  <!-- Pin B1: VCC -->
  <circle cx="892" cy="280" r="6" fill="#ef4444" stroke="#fca5a5" stroke-width="1"/>
  <text x="892" y="270" text-anchor="middle" font-size="7" font-weight="600" fill="#fca5a5">VCC</text>
  <!-- Pin B2: VCC -->
  <circle cx="930" cy="280" r="6" fill="#ef4444" stroke="#fca5a5" stroke-width="1"/>
  <text x="930" y="270" text-anchor="middle" font-size="7" font-weight="600" fill="#fca5a5">VCC</text>
  <!-- Pin B3: GND -->
  <circle cx="968" cy="280" r="6" fill="#64748b" stroke="#94a3b8" stroke-width="1"/>
  <text x="968" y="270" text-anchor="middle" font-size="7" font-weight="600" fill="#94a3b8">GND</text>
  <!-- Pin B4: Control -->
  <circle cx="1006" cy="280" r="6" fill="#22c55e" stroke="#4ade80" stroke-width="1"/>
  <text x="1006" y="270" text-anchor="middle" font-size="7" font-weight="600" fill="#4ade80">Ctrl</text>
  <!-- Pin B5: Coin -->
  <circle cx="1044" cy="280" r="6" fill="#3b82f6" stroke="#60a5fa" stroke-width="1"/>
  <text x="1044" y="270" text-anchor="middle" font-size="7" font-weight="600" fill="#60a5fa">Coin</text>

  <!-- Row labels -->
  <text x="878" y="252" text-anchor="end" font-size="8" fill="#64748b">A</text>
  <text x="878" y="284" text-anchor="end" font-size="8" fill="#64748b">B</text>

  <!-- N/C note for H Level -->
  <text x="968" y="305" text-anchor="middle" font-size="7.5" fill="#475569" font-style="italic">N/C</text>


  <!-- ╔══════════════════════════════════════════╗ -->
  <!-- ║  CONNECTOR VCC / GND WIRING               ║ -->
  <!-- ╚══════════════════════════════════════════╝ -->

  <!-- VCC pins (A1, B1, B2) → +12V rail at top -->
  <line x1="892" y1="242" x2="892" y2="195" stroke="#ef4444" stroke-width="1.8"/>
  <line x1="892" y1="195" x2="930" y2="195" stroke="#ef4444" stroke-width="1.8"/>
  <line x1="930" y1="274" x2="930" y2="195" stroke="#ef4444" stroke-width="1.8"/>
  <circle cx="892" cy="195" r="2.5" fill="#ef4444"/>
  <circle cx="930" cy="195" r="2.5" fill="#ef4444"/>
  <line x1="892" y1="274" x2="892" y2="195" stroke="#ef4444" stroke-width="1.8"/>
  <line x1="910" y1="195" x2="910" y2="185" stroke="#ef4444" stroke-width="2"/>
  <rect x="893" y="178" width="34" height="12" rx="3" fill="#450a0a"/>
  <text x="910" y="187" text-anchor="middle" font-size="8" font-weight="700" fill="#fca5a5">+12V</text>

  <!-- GND pins (A2, B3) → GND bus wire going down -->
  <line x1="930" y1="254" x2="930" y2="315" stroke="#64748b" stroke-width="1.8" opacity="0.7"/>
  <line x1="968" y1="286" x2="968" y2="315" stroke="#64748b" stroke-width="1.8" opacity="0.7"/>
  <line x1="930" y1="315" x2="968" y2="315" stroke="#64748b" stroke-width="1.8" opacity="0.7"/>
  <circle cx="930" cy="315" r="2.5" fill="#64748b"/>
  <circle cx="968" cy="315" r="2.5" fill="#64748b"/>
  <!-- Will connect to GND bus at bottom -->
  <line x1="948" y1="315" x2="948" y2="840" stroke="#64748b" stroke-width="2" opacity="0.5"/>


  <!-- ╔══════════════════════════════════════════╗ -->
  <!-- ║  CH1: D1 → BC547 → Control (GREEN)        ║ -->
  <!-- ╚══════════════════════════════════════════╝ -->
  <rect x="310" y="80" width="330" height="16" rx="3" fill="#14532d" opacity="0.6"/>
  <text x="475" y="91" text-anchor="middle" font-size="9" font-weight="700" fill="#4ade80">CH1 · CONTROL OUTPUT — BC547 Open-Collector → Pin B4</text>

  <!-- D1 → R1 -->
  <line x1="245" y1="185" x2="302" y2="185" stroke="#22c55e" stroke-width="2"/>

  <!-- R1: 1kΩ base resistor -->
  <rect x="302" y="177" width="56" height="16" rx="3" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <polyline points="302,185 307,179 315,191 323,179 331,191 339,179 347,191 352,185 358,185" fill="none" stroke="#22c55e" stroke-width="1.4"/>
  <text x="330" y="173" text-anchor="middle" font-size="8.5" font-weight="600" fill="#4ade80">R1 · 1kΩ</text>

  <!-- R1 → Base -->
  <line x1="358" y1="185" x2="400" y2="185" stroke="#22c55e" stroke-width="1.8"/>

  <!-- BC547 box -->
  <g filter="url(#shadow)">
    <rect x="400" y="138" width="84" height="94" rx="8" fill="#1e293b" stroke="#334155" stroke-width="1.5"/>
    <text x="442" y="157" text-anchor="middle" font-size="10" font-weight="700" fill="#e2e8f0">BC547</text>
    <text x="442" y="168" text-anchor="middle" font-size="8" fill="#64748b">NPN</text>
  </g>
  <!-- B/C/E pins -->
  <text x="412" y="189" font-size="8" font-weight="600" fill="#94a3b8">B</text>
  <circle cx="400" cy="185" r="3.5" fill="#22c55e" opacity="0.7"/>
  <text x="451" y="147" text-anchor="middle" font-size="8" font-weight="600" fill="#94a3b8">C</text>
  <circle cx="442" cy="138" r="3.5" fill="#22c55e" opacity="0.7"/>
  <text x="451" y="227" text-anchor="middle" font-size="8" font-weight="600" fill="#94a3b8">E</text>
  <circle cx="442" cy="232" r="3.5" fill="#22c55e" opacity="0.7"/>

  <!-- Emitter → GND symbol -->
  <line x1="442" y1="235" x2="442" y2="254" stroke="#64748b" stroke-width="1.8"/>
  <line x1="432" y1="254" x2="452" y2="254" stroke="#64748b" stroke-width="1.5"/>
  <line x1="435" y1="258" x2="449" y2="258" stroke="#64748b" stroke-width="1.2"/>
  <line x1="437" y1="262" x2="447" y2="262" stroke="#64748b" stroke-width="0.8"/>

  <!-- Collector → up → R2 pull-up -->
  <line x1="442" y1="135" x2="442" y2="118" stroke="#22c55e" stroke-width="1.8"/>
  <rect x="434" y="82" width="16" height="36" rx="2" fill="#1e293b" stroke="#334155" stroke-width="0.8"/>
  <polyline points="442,118 436,112 448,104 436,96 448,88 442,82" fill="none" stroke="#22c55e" stroke-width="1.3"/>
  <text x="457" y="96" font-size="8.5" font-weight="600" fill="#4ade80">R2</text>
  <text x="457" y="108" font-size="8" fill="#94a3b8">10kΩ</text>

  <!-- R2 top → +12V -->
  <line x1="442" y1="82" x2="442" y2="72" stroke="#ef4444" stroke-width="1.8"/>
  <rect x="425" y="60" width="34" height="12" rx="3" fill="#450a0a"/>
  <text x="442" y="69" text-anchor="middle" font-size="7.5" font-weight="700" fill="#fca5a5">+12V</text>

  <!-- Collector junction → right → to connector Control (B4) -->
  <circle cx="442" cy="118" r="3" fill="#22c55e"/>
  <line x1="445" y1="118" x2="530" y2="118" stroke="#22c55e" stroke-width="1.8"/>
  <line x1="530" y1="118" x2="530" y2="280" stroke="#22c55e" stroke-width="1.8"/>
  <line x1="530" y1="280" x2="1000" y2="280" stroke="#22c55e" stroke-width="2" marker-end="url(#arr-grn)"/>

  <!-- Solder note -->
  <text x="442" y="276" text-anchor="middle" font-size="7" fill="#475569" font-style="italic">BC547 flat side: E-B-C (left to right)</text>


  <!-- ╔══════════════════════════════════════════╗ -->
  <!-- ║  CH2: Coin (B5) → Divider → D2 (BLUE)    ║ -->
  <!-- ╚══════════════════════════════════════════╝ -->
  <rect x="310" y="302" width="330" height="16" rx="3" fill="#1e3a5f" opacity="0.6"/>
  <text x="475" y="313" text-anchor="middle" font-size="9" font-weight="700" fill="#60a5fa">CH2 · COIN INPUT — Voltage Divider · Pin B5 → D2</text>

  <!-- Connector Coin (B5) → wire left -->
  <line x1="1044" y1="286" x2="1044" y2="340" stroke="#3b82f6" stroke-width="2"/>
  <line x1="1044" y1="340" x2="720" y2="340" stroke="#3b82f6" stroke-width="2"/>

  <!-- R3: 10kΩ series resistor -->
  <rect x="650" y="332" width="70" height="16" rx="3" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <polyline points="720,340 714,334 704,346 694,334 684,346 674,334 664,346 656,340" fill="none" stroke="#3b82f6" stroke-width="1.4"/>
  <text x="685" y="328" text-anchor="middle" font-size="8.5" font-weight="600" fill="#60a5fa">R3 · 10kΩ</text>

  <!-- R3 → junction → D2 -->
  <line x1="650" y1="340" x2="570" y2="340" stroke="#3b82f6" stroke-width="2"/>
  <circle cx="570" cy="340" r="3.5" fill="#3b82f6"/>
  <line x1="567" y1="340" x2="330" y2="340" stroke="#3b82f6" stroke-width="1.8"/>
  <line x1="330" y1="340" x2="330" y2="265" stroke="#3b82f6" stroke-width="1.8"/>
  <line x1="330" y1="265" x2="249" y2="265" stroke="#3b82f6" stroke-width="2" marker-end="url(#arr-blu-l)"/>

  <!-- R4: 3.3kΩ to GND (vertical) -->
  <line x1="570" y1="343" x2="570" y2="376" stroke="#3b82f6" stroke-width="1.5"/>
  <rect x="562" y="376" width="16" height="46" rx="2" fill="#1e293b" stroke="#334155" stroke-width="0.8"/>
  <polyline points="570,376 564,384 576,392 564,400 576,408 564,416 570,420" fill="none" stroke="#3b82f6" stroke-width="1.2"/>
  <text x="586" y="394" font-size="8.5" font-weight="600" fill="#60a5fa">R4</text>
  <text x="586" y="406" font-size="8" fill="#94a3b8">3.3kΩ</text>
  <!-- R4 → GND -->
  <line x1="570" y1="422" x2="570" y2="436" stroke="#64748b" stroke-width="1.5"/>
  <line x1="561" y1="436" x2="579" y2="436" stroke="#64748b" stroke-width="1.5"/>
  <line x1="564" y1="440" x2="576" y2="440" stroke="#64748b" stroke-width="1.2"/>
  <line x1="566" y1="444" x2="574" y2="444" stroke="#64748b" stroke-width="0.8"/>

  <!-- Divider equation -->
  <text x="570" y="460" text-anchor="middle" font-size="7.5" fill="#475569" font-style="italic">Vout = 12 × 3.3/(10+3.3) ≈ 2.98V</text>


  <!-- ╔══════════════════════════════════════════╗ -->
  <!-- ║  CH3: Error (A4) → Divider → D5 (AMBER)  ║ -->
  <!-- ╚══════════════════════════════════════════╝ -->
  <rect x="310" y="500" width="330" height="16" rx="3" fill="#422006" opacity="0.6"/>
  <text x="475" y="511" text-anchor="middle" font-size="9" font-weight="700" fill="#fbbf24">CH3 · ERROR INPUT — Voltage Divider · Pin A4 → D5</text>

  <!-- Connector Error (A4) → wire down then left -->
  <line x1="1006" y1="254" x2="1006" y2="530" stroke="#f59e0b" stroke-width="2"/>
  <line x1="1006" y1="530" x2="720" y2="530" stroke="#f59e0b" stroke-width="2"/>

  <!-- R5: 10kΩ series -->
  <rect x="650" y="522" width="70" height="16" rx="3" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <polyline points="720,530 714,524 704,536 694,524 684,536 674,524 664,536 656,530" fill="none" stroke="#f59e0b" stroke-width="1.4"/>
  <text x="685" y="518" text-anchor="middle" font-size="8.5" font-weight="600" fill="#fbbf24">R5 · 10kΩ</text>

  <!-- R5 → junction → D5 -->
  <line x1="650" y1="530" x2="490" y2="530" stroke="#f59e0b" stroke-width="2"/>
  <circle cx="490" cy="530" r="3.5" fill="#f59e0b"/>
  <line x1="487" y1="530" x2="310" y2="530" stroke="#f59e0b" stroke-width="1.8"/>
  <line x1="310" y1="530" x2="310" y2="345" stroke="#f59e0b" stroke-width="1.8"/>
  <line x1="310" y1="345" x2="249" y2="345" stroke="#f59e0b" stroke-width="2" marker-end="url(#arr-amb-l)"/>

  <!-- R6: 3.3kΩ to GND -->
  <line x1="490" y1="533" x2="490" y2="566" stroke="#f59e0b" stroke-width="1.5"/>
  <rect x="482" y="566" width="16" height="46" rx="2" fill="#1e293b" stroke="#334155" stroke-width="0.8"/>
  <polyline points="490,566 484,574 496,582 484,590 496,598 484,606 490,610" fill="none" stroke="#f59e0b" stroke-width="1.2"/>
  <text x="506" y="584" font-size="8.5" font-weight="600" fill="#fbbf24">R6</text>
  <text x="506" y="596" font-size="8" fill="#94a3b8">3.3kΩ</text>
  <!-- R6 → GND -->
  <line x1="490" y1="612" x2="490" y2="626" stroke="#64748b" stroke-width="1.5"/>
  <line x1="481" y1="626" x2="499" y2="626" stroke="#64748b" stroke-width="1.5"/>
  <line x1="484" y1="630" x2="496" y2="630" stroke="#64748b" stroke-width="1.2"/>
  <line x1="486" y1="634" x2="494" y2="634" stroke="#64748b" stroke-width="0.8"/>


  <!-- ╔══════════════════════════════════════════╗ -->
  <!-- ║  CH4: Empty (A5) → Divider → D6 (ORANGE)  ║ -->
  <!-- ╚══════════════════════════════════════════╝ -->
  <rect x="310" y="670" width="330" height="16" rx="3" fill="#431407" opacity="0.6"/>
  <text x="475" y="681" text-anchor="middle" font-size="9" font-weight="700" fill="#fb923c">CH4 · EMPTY INPUT — Voltage Divider · Pin A5 → D6</text>

  <!-- Connector Empty (A5) → wire down then left -->
  <line x1="1044" y1="254" x2="1068" y2="254" stroke="#f97316" stroke-width="2"/>
  <line x1="1068" y1="254" x2="1068" y2="700" stroke="#f97316" stroke-width="2"/>
  <line x1="1068" y1="700" x2="720" y2="700" stroke="#f97316" stroke-width="2"/>

  <!-- R7: 10kΩ series -->
  <rect x="650" y="692" width="70" height="16" rx="3" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <polyline points="720,700 714,694 704,706 694,694 684,706 674,694 664,706 656,700" fill="none" stroke="#f97316" stroke-width="1.4"/>
  <text x="685" y="688" text-anchor="middle" font-size="8.5" font-weight="600" fill="#fb923c">R7 · 10kΩ</text>

  <!-- R7 → junction → D6 -->
  <line x1="650" y1="700" x2="410" y2="700" stroke="#f97316" stroke-width="2"/>
  <circle cx="410" cy="700" r="3.5" fill="#f97316"/>
  <line x1="407" y1="700" x2="290" y2="700" stroke="#f97316" stroke-width="1.8"/>
  <line x1="290" y1="700" x2="290" y2="425" stroke="#f97316" stroke-width="1.8"/>
  <line x1="290" y1="425" x2="249" y2="425" stroke="#f97316" stroke-width="2" marker-end="url(#arr-org-l)"/>

  <!-- R8: 3.3kΩ to GND -->
  <line x1="410" y1="703" x2="410" y2="736" stroke="#f97316" stroke-width="1.5"/>
  <rect x="402" y="736" width="16" height="46" rx="2" fill="#1e293b" stroke="#334155" stroke-width="0.8"/>
  <polyline points="410,736 404,744 416,752 404,760 416,768 404,776 410,780" fill="none" stroke="#f97316" stroke-width="1.2"/>
  <text x="426" y="754" font-size="8.5" font-weight="600" fill="#fb923c">R8</text>
  <text x="426" y="766" font-size="8" fill="#94a3b8">3.3kΩ</text>
  <!-- R8 → GND -->
  <line x1="410" y1="782" x2="410" y2="796" stroke="#64748b" stroke-width="1.5"/>
  <line x1="401" y1="796" x2="419" y2="796" stroke="#64748b" stroke-width="1.5"/>
  <line x1="404" y1="800" x2="416" y2="800" stroke="#64748b" stroke-width="1.2"/>
  <line x1="406" y1="804" x2="414" y2="804" stroke="#64748b" stroke-width="0.8"/>


  <!-- ╔══════════════════════════════════════════╗ -->
  <!-- ║  COMMON GND BUS                            ║ -->
  <!-- ╚══════════════════════════════════════════╝ -->

  <!-- ESP GND → down to bus -->
  <line x1="35" y1="265" x2="20" y2="265" stroke="#64748b" stroke-width="2" opacity="0.5"/>
  <line x1="20" y1="265" x2="20" y2="840" stroke="#64748b" stroke-width="2" opacity="0.5"/>

  <!-- GND bus bar -->
  <line x1="20" y1="840" x2="948" y2="840" stroke="#64748b" stroke-width="3" opacity="0.5"/>
  <circle cx="20" cy="840" r="3.5" fill="#64748b" opacity="0.8"/>
  <circle cx="948" cy="840" r="3.5" fill="#64748b" opacity="0.8"/>
  <text x="20" y="832" text-anchor="middle" font-size="7.5" fill="#64748b">ESP</text>
  <text x="948" y="832" text-anchor="middle" font-size="7.5" fill="#64748b">Hopper</text>

  <rect x="440" y="846" width="106" height="16" rx="4" fill="#1e293b" stroke="#334155" stroke-width="0.8"/>
  <text x="493" y="858" text-anchor="middle" font-size="9" font-weight="600" fill="#94a3b8">COMMON GND</text>
  <!-- Earth symbol -->
  <line x1="493" y1="866" x2="493" y2="874" stroke="#64748b" stroke-width="1.5"/>
  <line x1="484" y1="874" x2="502" y2="874" stroke="#64748b" stroke-width="1.5"/>
  <line x1="487" y1="878" x2="499" y2="878" stroke="#64748b" stroke-width="1.2"/>


  <!-- ╔══════════════════════════════════════════╗ -->
  <!-- ║  BOM + CONNECTOR MAP                       ║ -->
  <!-- ╚══════════════════════════════════════════╝ -->

  <!-- BOM box -->
  <rect x="40" y="510" width="200" height="132" rx="8" fill="#1e293b" stroke="#334155" stroke-width="1" opacity="0.85"/>
  <text x="56" y="530" font-size="10" font-weight="700" fill="#94a3b8">Bill of Materials</text>
  <text x="56" y="548" font-size="9" fill="#94a3b8">R1 — 1kΩ (base limiter)</text>
  <text x="56" y="562" font-size="9" fill="#94a3b8">R2 — 10kΩ (pull-up to 12V)</text>
  <text x="56" y="576" font-size="9" fill="#94a3b8">R3,R5,R7 — 10kΩ × 3 (series)</text>
  <text x="56" y="590" font-size="9" fill="#94a3b8">R4,R6,R8 — 3.3kΩ × 3 (shunt)</text>
  <text x="56" y="604" font-size="9" fill="#94a3b8">Q1 — BC547 NPN transistor</text>
  <text x="56" y="622" font-size="9" fill="#64748b">Total: 7 resistors + 1 transistor</text>
  <text x="56" y="636" font-size="9" fill="#64748b">+ 2200µF 25V cap (power supply)</text>

  <!-- Connector map box -->
  <rect x="850" y="358" width="240" height="100" rx="8" fill="#1e293b" stroke="#334155" stroke-width="1" opacity="0.85"/>
  <text x="866" y="378" font-size="10" font-weight="700" fill="#94a3b8">2×5 Molex Pin Map</text>
  <text x="866" y="396" font-size="8.5" fill="#94a3b8" font-family="monospace">A: VCC  GND  H.Lvl  Error  Empty</text>
  <text x="866" y="412" font-size="8.5" fill="#94a3b8" font-family="monospace">B: VCC  VCC  GND    Ctrl   Coin</text>
  <line x1="866" y1="420" x2="1070" y2="420" stroke="#334155" stroke-width="0.5"/>
  <text x="866" y="436" font-size="8" fill="#64748b">3× VCC (+12V) · 2× GND</text>
  <text x="866" y="450" font-size="8" fill="#64748b">H Level pin not connected (N/C)</text>
</svg>
