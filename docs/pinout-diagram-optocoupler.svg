<svg viewBox="0 0 720 520" width="720" height="520" xmlns="http://www.w3.org/2000/svg" font-family="Inter, system-ui, -apple-system, sans-serif">
  <defs>
    <filter id="shadow" x="-4%" y="-4%" width="108%" height="112%">
      <feDropShadow dx="0" dy="3" stdDeviation="6" flood-color="#000" flood-opacity="0.25"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="720" height="520" rx="12" fill="#0f172a"/>
  <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
    <path d="M20,0 L0,0 0,20" fill="none" stroke="#1e293b" stroke-width="0.4"/>
  </pattern>
  <rect width="720" height="520" fill="url(#grid)" opacity="0.5" rx="12"/>

  <!-- Title -->
  <text x="360" y="36" text-anchor="middle" font-size="17" font-weight="800" fill="#f1f5f9" letter-spacing="-0.3">Wemos D1 Mini Pinout Reference</text>
  <text x="360" y="54" text-anchor="middle" font-size="11" fill="#64748b">Token Dispenser with PC817 Optocouplers · Inverted Logic (LOW = active)</text>

  <!-- Board -->
  <g filter="url(#shadow)">
    <rect x="248" y="72" width="224" height="388" rx="10" fill="#1e293b" stroke="#334155" stroke-width="1.5"/>
    <rect x="248" y="72" width="224" height="34" rx="10" fill="#1e3a5f"/>
    <rect x="248" y="96" width="224" height="10" fill="#1e3a5f"/>
    <text x="360" y="94" text-anchor="middle" font-size="13" font-weight="700" fill="#38bdf8">WEMOS D1 MINI</text>
    <text x="360" y="104" text-anchor="middle" font-size="9" fill="#7dd3fc">ESP8266</text>
    <rect x="335" y="66" width="50" height="10" rx="3" fill="#334155" stroke="#475569" stroke-width="0.8"/>
    <text x="360" y="74" text-anchor="middle" font-size="6.5" fill="#64748b" font-family="monospace">USB</text>
    <rect x="260" y="420" width="200" height="28" rx="4" fill="#0f172a" stroke="#334155" stroke-width="0.8" stroke-dasharray="4,2"/>
    <text x="360" y="438" text-anchor="middle" font-size="8" fill="#475569">PCB ANTENNA</text>
  </g>

  <!-- ═══ LEFT PINS ═══ -->
  <!-- RST -->
  <circle cx="248" cy="135" r="5" fill="#475569"/>
  <line x1="243" y1="135" x2="200" y2="135" stroke="#475569" stroke-width="1.5"/>
  <text x="192" y="132" text-anchor="end" font-size="11" font-weight="600" fill="#94a3b8" font-family="monospace">RST</text>
  <text x="192" y="143" text-anchor="end" font-size="9" fill="#64748b">Reset</text>

  <!-- A0 -->
  <circle cx="248" cy="171" r="5" fill="#475569"/>
  <line x1="243" y1="171" x2="200" y2="171" stroke="#475569" stroke-width="1.5"/>
  <text x="192" y="168" text-anchor="end" font-size="11" font-weight="600" fill="#94a3b8" font-family="monospace">A0</text>
  <text x="192" y="179" text-anchor="end" font-size="9" fill="#64748b">Analog In</text>

  <!-- D0 -->
  <circle cx="248" cy="207" r="5" fill="#475569"/>
  <line x1="243" y1="207" x2="200" y2="207" stroke="#475569" stroke-width="1.5"/>
  <text x="192" y="204" text-anchor="end" font-size="11" font-weight="600" fill="#94a3b8" font-family="monospace">D0</text>
  <text x="192" y="215" text-anchor="end" font-size="9" fill="#64748b">GPIO16</text>

  <!-- D5 ★ Error IN via Opto #3 -->
  <circle cx="248" cy="243" r="6" fill="#f59e0b"/>
  <line x1="242" y1="243" x2="200" y2="243" stroke="#f59e0b" stroke-width="1.8"/>
  <text x="192" y="240" text-anchor="end" font-size="11" font-weight="700" fill="#f59e0b" font-family="monospace">D5</text>
  <text x="192" y="251" text-anchor="end" font-size="9" fill="#fbbf24">← Error (Opto #3)</text>

  <!-- D6 ★ Empty IN via Opto #4 -->
  <circle cx="248" cy="279" r="6" fill="#f97316"/>
  <line x1="242" y1="279" x2="200" y2="279" stroke="#f97316" stroke-width="1.8"/>
  <text x="192" y="276" text-anchor="end" font-size="11" font-weight="700" fill="#f97316" font-family="monospace">D6</text>
  <text x="192" y="287" text-anchor="end" font-size="9" fill="#fb923c">← Empty (Opto #4)</text>

  <!-- D7 ★ Coin IN via Opto #2 -->
  <circle cx="248" cy="315" r="6" fill="#3b82f6"/>
  <line x1="243" y1="315" x2="200" y2="315" stroke="#3b82f6" stroke-width="1.8"/>
  <text x="192" y="312" text-anchor="end" font-size="11" font-weight="700" fill="#3b82f6" font-family="monospace">D7</text>
  <text x="192" y="323" text-anchor="end" font-size="9" fill="#60a5fa">← Coin (Opto #2)</text>

  <!-- D8 -->
  <circle cx="248" cy="351" r="5" fill="#475569"/>
  <line x1="243" y1="351" x2="200" y2="351" stroke="#475569" stroke-width="1.5"/>
  <text x="192" y="348" text-anchor="end" font-size="11" font-weight="600" fill="#94a3b8" font-family="monospace">D8</text>
  <text x="192" y="359" text-anchor="end" font-size="9" fill="#64748b">GPIO15</text>

  <!-- 3V3 - used for Opto VCC -->
  <circle cx="248" cy="387" r="6" fill="#a78bfa"/>
  <line x1="242" y1="387" x2="200" y2="387" stroke="#a78bfa" stroke-width="1.8"/>
  <text x="192" y="384" text-anchor="end" font-size="11" font-weight="700" fill="#a78bfa" font-family="monospace">3V3</text>
  <text x="192" y="395" text-anchor="end" font-size="9" fill="#c4b5fd">→ Opto VCC #2-4</text>

  <!-- ═══ RIGHT PINS ═══ -->
  <!-- TX -->
  <circle cx="472" cy="135" r="5" fill="#475569"/>
  <line x1="477" y1="135" x2="520" y2="135" stroke="#475569" stroke-width="1.5"/>
  <text x="528" y="132" font-size="11" font-weight="600" fill="#94a3b8" font-family="monospace">TX</text>
  <text x="528" y="143" font-size="9" fill="#64748b">GPIO1 · Serial</text>

  <!-- RX -->
  <circle cx="472" cy="171" r="5" fill="#475569"/>
  <line x1="477" y1="171" x2="520" y2="171" stroke="#475569" stroke-width="1.5"/>
  <text x="528" y="168" font-size="11" font-weight="600" fill="#94a3b8" font-family="monospace">RX</text>
  <text x="528" y="179" font-size="9" fill="#64748b">GPIO3 · Serial</text>

  <!-- D1 ★ Control OUT via Opto #1 -->
  <circle cx="472" cy="207" r="6" fill="#22c55e"/>
  <line x1="478" y1="207" x2="520" y2="207" stroke="#22c55e" stroke-width="1.8"/>
  <text x="528" y="204" font-size="11" font-weight="700" fill="#22c55e" font-family="monospace">D1 ⚠️</text>
  <text x="528" y="215" font-size="9" fill="#4ade80">→ Control (Opto #1)</text>
  <text x="528" y="226" font-size="7" fill="#fb923c">R1 mod required!</text>

  <!-- D2 -->
  <circle cx="472" cy="243" r="5" fill="#475569"/>
  <line x1="478" y1="243" x2="520" y2="243" stroke="#475569" stroke-width="1.5"/>
  <text x="528" y="240" font-size="11" font-weight="600" fill="#94a3b8" font-family="monospace">D2</text>
  <text x="528" y="251" font-size="9" fill="#64748b">GPIO4</text>

  <!-- D3 -->
  <circle cx="472" cy="279" r="5" fill="#475569"/>
  <line x1="477" y1="279" x2="520" y2="279" stroke="#475569" stroke-width="1.5"/>
  <text x="528" y="276" font-size="11" font-weight="600" fill="#94a3b8" font-family="monospace">D3</text>
  <text x="528" y="287" font-size="9" fill="#64748b">GPIO0</text>

  <!-- D4 -->
  <circle cx="472" cy="315" r="5" fill="#475569"/>
  <line x1="477" y1="315" x2="520" y2="315" stroke="#475569" stroke-width="1.5"/>
  <text x="528" y="312" font-size="11" font-weight="600" fill="#94a3b8" font-family="monospace">D4</text>
  <text x="528" y="323" font-size="9" fill="#64748b">GPIO2 · LED</text>

  <!-- GND -->
  <circle cx="472" cy="351" r="5" fill="#64748b"/>
  <line x1="477" y1="351" x2="520" y2="351" stroke="#64748b" stroke-width="1.5"/>
  <text x="528" y="348" font-size="11" font-weight="600" fill="#94a3b8" font-family="monospace">GND</text>
  <text x="528" y="359" font-size="9" fill="#64748b">→ Opto GND #2-4</text>

  <!-- 5V -->
  <circle cx="472" cy="387" r="5" fill="#ef4444"/>
  <line x1="477" y1="387" x2="520" y2="387" stroke="#ef4444" stroke-width="1.5"/>
  <text x="528" y="384" font-size="11" font-weight="600" fill="#ef4444" font-family="monospace">5V</text>
  <text x="528" y="395" font-size="9" fill="#64748b">DC Shield Input</text>

  <!-- ═══ LEGEND ═══ -->
  <rect x="40" y="468" width="640" height="38" rx="6" fill="#1e293b" stroke="#334155" stroke-width="1" opacity="0.85"/>
  <circle cx="65" cy="487" r="5" fill="#22c55e"/>
  <text x="77" y="491" font-size="9.5" fill="#4ade80">Control →</text>
  <circle cx="160" cy="487" r="5" fill="#3b82f6"/>
  <text x="172" y="491" font-size="9.5" fill="#60a5fa">← Coin</text>
  <circle cx="240" cy="487" r="5" fill="#f59e0b"/>
  <text x="252" y="491" font-size="9.5" fill="#fbbf24">← Error</text>
  <circle cx="325" cy="487" r="5" fill="#f97316"/>
  <text x="337" y="491" font-size="9.5" fill="#fb923c">← Empty</text>
  <circle cx="415" cy="487" r="5" fill="#475569"/>
  <text x="427" y="491" font-size="9.5" fill="#94a3b8">Unused</text>
  <circle cx="500" cy="487" r="5" fill="#ef4444"/>
  <text x="512" y="491" font-size="9.5" fill="#fca5a5">Power</text>
  <circle cx="570" cy="487" r="5" fill="#a78bfa"/>
  <text x="582" y="491" font-size="9.5" fill="#c4b5fd">3.3V</text>
  <text x="625" y="491" font-size="9" fill="#fb923c">⚠️ = Modification</text>
</svg>
